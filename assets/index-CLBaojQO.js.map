{"version":3,"file":"index-CLBaojQO.js","sources":["../../src/js/utils.js","../../src/js/script.js"],"sourcesContent":["// src/js/utils.js\r\nexport function numberToWords(num) {\r\n    if (isNaN(num) || num < 0) return \"Invalid Amount\";\r\n    if (num === 0) return \"Zero Naira\";\r\n\r\n    const units = [\"\", \"One\", \"Two\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\", \"Eight\", \"Nine\"];\r\n    const teens = [\"Ten\", \"Eleven\", \"Twelve\", \"Thirteen\", \"Fourteen\", \"Fifteen\", \"Sixteen\", \"Seventeen\", \"Eighteen\", \"Nineteen\"];\r\n    const tens = [\"\", \"\", \"Twenty\", \"Thirty\", \"Forty\", \"Fifty\", \"Sixty\", \"Seventy\", \"Eighty\", \"Ninety\"];\r\n    const scales = [\"\", \"Thousand\", \"Million\", \"Billion\"];\r\n\r\n    function convertGroupToWords(num) {\r\n        let words = [];\r\n        if (num >= 100) {\r\n            words.push(units[Math.floor(num / 100)] + \" Hundred\");\r\n            num %= 100;\r\n            if (num > 0) words.push(\"And\");\r\n        }\r\n        if (num >= 20) {\r\n            words.push(tens[Math.floor(num / 10)]);\r\n            num %= 10;\r\n        } else if (num >= 10) {\r\n            words.push(teens[num - 10]);\r\n            num = 0;\r\n        }\r\n        if (num > 0) words.push(units[num]);\r\n        return words.join(\" \");\r\n    }\r\n\r\n    let [integerPart, decimalPart] = num.toFixed(2).split(\".\");\r\n    integerPart = parseInt(integerPart, 10);\r\n    decimalPart = parseInt(decimalPart, 10);\r\n\r\n    let words = [];\r\n    let scaleIndex = 0;\r\n\r\n    while (integerPart > 0) {\r\n        let group = integerPart % 1000;\r\n        if (group > 0) {\r\n            let groupWords = convertGroupToWords(group);\r\n            if (scaleIndex > 0) groupWords += \" \" + scales[scaleIndex];\r\n            words.unshift(groupWords);\r\n        }\r\n        integerPart = Math.floor(integerPart / 1000);\r\n        scaleIndex++;\r\n    }\r\n\r\n    let integerWords = words.length > 0 ? words.join(\" \") : \"Zero\";\r\n    let decimalWords = decimalPart > 0 ? convertGroupToWords(decimalPart) + \" Kobo\" : \"\";\r\n    return integerWords + \" Naira\" + (decimalWords ? \" and \" + decimalWords : \"\");\r\n}","import { numberToWords } from './utils.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const form = document.getElementById('receiptForm');\r\n    const itemRows = document.getElementById('itemRows');\r\n    const addItemBtn = document.getElementById('addItem');\r\n    let serialNumber = 1;\r\n\r\n    const phonePattern = /^\\+?\\d{10,15}$/;\r\n    const invoicePattern = /^[A-Z0-9-]{5,20}$/;\r\n\r\n    const formatNumberWithCommas = (number) => {\r\n        const parts = number.toString().split('.');\r\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n        return parts.join('.');\r\n    };\r\n\r\n    const cleanNumberInput = (value) => value.replace(/,/g, '');\r\n\r\n    const createPopover = (rowIndex) => {\r\n        const popover = document.createElement('div');\r\n        popover.className = 'item-details-popover';\r\n        popover.id = `popover-${rowIndex}`;\r\n        popover.innerHTML = `\r\n            <div class=\"popover-backdrop\"></div>\r\n            <div class=\"popover-content\">\r\n                <h3>Item Details</h3>\r\n                <div class=\"popover-field\">\r\n                    <label for=\"itemSN-${rowIndex}\">Item S/N:</label>\r\n                    <input type=\"text\" id=\"itemSN-${rowIndex}\" name=\"itemSN\" placeholder=\"Enter Serial Number\">\r\n                </div>\r\n                <div class=\"popover-field\">\r\n                    <label for=\"itemMN-${rowIndex}\">Item M/N:</label>\r\n                    <input type=\"text\" id=\"itemMN-${rowIndex}\" name=\"itemMN\" placeholder=\"Enter Model Number\">\r\n                </div>\r\n                <div class=\"popover-field\">\r\n                    <label for=\"itemIMEI-${rowIndex}\">Item IMEI:</label>\r\n                    <input type=\"text\" id=\"itemIMEI-${rowIndex}\" name=\"itemIMEI\" placeholder=\"Enter IMEI\">\r\n                </div>\r\n                <div class=\"popover-actions\">\r\n                    <button type=\"button\" class=\"save-details\" aria-label=\"Save Details\">Save</button>\r\n                    <button type=\"button\" class=\"cancel-details\" aria-label=\"Cancel\">Cancel</button>\r\n                </div>\r\n            </div>\r\n        `;\r\n        document.body.appendChild(popover);\r\n        return popover;\r\n    };\r\n\r\n    const showPopover = (popover) => {\r\n        popover.style.display = 'flex';\r\n        setTimeout(() => {\r\n            popover.classList.add('visible');\r\n        }, 10);\r\n    };\r\n\r\n    const hidePopover = (popover) => {\r\n        popover.classList.remove('visible');\r\n        setTimeout(() => {\r\n            popover.style.display = 'none';\r\n        }, 300);\r\n    };\r\n\r\n    addItemBtn.addEventListener('click', () => {\r\n        if (serialNumber > 20) {\r\n            alert('Maximum limit of 20 rows reached!');\r\n            return;\r\n        }\r\n\r\n        const row = document.createElement('tr');\r\n        const rowIndex = serialNumber;\r\n        row.innerHTML = `\r\n            <td><input type=\"text\" name=\"sn\" value=\"${serialNumber}\" readonly aria-label=\"Serial Number\"></td>\r\n            <td><input type=\"text\" name=\"name\" required aria-label=\"Item Name\"></td>\r\n            <td><input type=\"text\" name=\"description\" required aria-label=\"Item Description\"></td>\r\n            <td>\r\n                <button type=\"button\" class=\"details-btn\" aria-label=\"Add Item Details\">Add Details</button>\r\n                <input type=\"hidden\" name=\"itemDetails\" value=\"\">\r\n            </td>\r\n            <td><input type=\"number\" name=\"qty\" min=\"1\" required aria-label=\"Quantity\"></td>\r\n            <td><input type=\"text\" name=\"unitPrice\" required aria-label=\"Unit Price\"></td>\r\n            <td><input type=\"number\" name=\"discount\" min=\"0\" max=\"100\" step=\"0.01\" aria-label=\"Discount Percentage\"></td>\r\n            <td><input type=\"text\" name=\"amount\" readonly aria-label=\"Amount\"></td>\r\n            <td><button type=\"button\" class=\"removeItem\" aria-label=\"Remove Item\">Remove</button></td>\r\n        `;\r\n        itemRows.appendChild(row);\r\n        serialNumber++;\r\n\r\n        const detailsBtn = row.querySelector('.details-btn');\r\n        const hiddenInput = row.querySelector('input[name=\"itemDetails\"]');\r\n        const popover = createPopover(rowIndex);\r\n\r\n        detailsBtn.addEventListener('click', () => {\r\n            showPopover(popover);\r\n        });\r\n\r\n        popover.querySelector('.save-details').addEventListener('click', () => {\r\n            const itemDetails = {\r\n                itemSN: popover.querySelector(`#itemSN-${rowIndex}`).value,\r\n                itemMN: popover.querySelector(`#itemMN-${rowIndex}`).value,\r\n                itemIMEI: popover.querySelector(`#itemIMEI-${rowIndex}`).value\r\n            };\r\n            hiddenInput.value = JSON.stringify(itemDetails);\r\n            detailsBtn.textContent = itemDetails.itemSN || itemDetails.itemMN || itemDetails.itemIMEI ? 'Edit Details' : 'Add Details';\r\n            hidePopover(popover);\r\n        });\r\n\r\n        popover.querySelector('.cancel-details').addEventListener('click', () => {\r\n            hidePopover(popover);\r\n        });\r\n\r\n        popover.querySelector('.popover-backdrop').addEventListener('click', () => {\r\n            hidePopover(popover);\r\n        });\r\n\r\n        row.querySelector('.removeItem').addEventListener('click', () => {\r\n            if (confirm('Are you sure you want to remove this item?')) {\r\n                row.remove();\r\n                popover.remove();\r\n                updateSerialNumbers();\r\n                updateTotals();\r\n            }\r\n        });\r\n\r\n        const inputs = row.querySelectorAll('input[name=\"qty\"], input[name=\"unitPrice\"], input[name=\"discount\"]');\r\n        inputs.forEach(input => input.addEventListener('input', calculateAmount));\r\n\r\n        row.querySelector('input[name=\"unitPrice\"]').addEventListener('input', function () {\r\n            let cleanValue = cleanNumberInput(this.value);\r\n            if (cleanValue !== '' && !isNaN(cleanValue)) {\r\n                this.value = formatNumberWithCommas(cleanValue);\r\n            }\r\n            calculateAmount({ target: this });\r\n        });\r\n    });\r\n\r\n    const updateSerialNumbers = () => {\r\n        const rows = itemRows.querySelectorAll('tr');\r\n        serialNumber = 1;\r\n        rows.forEach(row => {\r\n            row.querySelector('input[name=\"sn\"]').value = serialNumber++;\r\n        });\r\n    };\r\n\r\n    const calculateAmount = (event) => {\r\n        const row = event.target.closest('tr');\r\n        const qty = parseFloat(row.querySelector('input[name=\"qty\"]').value) || 0;\r\n        const unitPrice = parseFloat(cleanNumberInput(row.querySelector('input[name=\"unitPrice\"]').value)) || 0;\r\n        const discount = parseFloat(row.querySelector('input[name=\"discount\"]').value) || 0;\r\n        const amount = qty * (unitPrice * (1 - discount / 100));\r\n\r\n        row.querySelector('input[name=\"amount\"]').value = formatNumberWithCommas(amount.toFixed(2));\r\n        updateTotals();\r\n    };\r\n\r\n    const updateTotals = () => {\r\n        const rows = itemRows.querySelectorAll('tr');\r\n        let itemQty = 0, subTotal = 0, total = 0;\r\n\r\n        rows.forEach(row => {\r\n            const qty = parseFloat(row.querySelector('input[name=\"qty\"]').value) || 0;\r\n            const unitPrice = parseFloat(cleanNumberInput(row.querySelector('input[name=\"unitPrice\"]').value)) || 0;\r\n            const discount = parseFloat(row.querySelector('input[name=\"discount\"]').value || 0);\r\n\r\n            itemQty += qty;\r\n            subTotal += qty * unitPrice;\r\n            total += qty * (unitPrice * (1 - discount / 100));\r\n        });\r\n\r\n        document.getElementById('itemQty').textContent = itemQty;\r\n        document.getElementById('subTotal').textContent = subTotal.toLocaleString('en-NG', { minimumFractionDigits: 2 });\r\n        document.getElementById('total').textContent = total.toLocaleString('en-NG', { minimumFractionDigits: 2 });\r\n        document.getElementById('amountInWords').textContent = numberToWords(total);\r\n    };\r\n\r\n    form.addEventListener('submit', (event) => {\r\n        event.preventDefault();\r\n\r\n        const customerName = document.getElementById('customerName').value.trim();\r\n        const phoneNumber = document.getElementById('phoneNumber').value.trim();\r\n        const invoiceNumber = document.getElementById('invoiceNumber').value.trim();\r\n\r\n        if (!phonePattern.test(phoneNumber)) {\r\n            alert('Please enter a valid phone number (10-15 digits).');\r\n            return;\r\n        }\r\n        if (!invoicePattern.test(invoiceNumber)) {\r\n            alert('Invoice number must be 5-20 characters (letters, numbers, or hyphens).');\r\n            return;\r\n        }\r\n\r\n        const submitBtn = form.querySelector('button[type=\"submit\"]');\r\n        submitBtn.disabled = true;\r\n        submitBtn.textContent = 'Processing...';\r\n\r\n        const rows = itemRows.querySelectorAll('tr');\r\n        const items = Array.from(rows).map((row, index) => {\r\n            const inputs = row.querySelectorAll('input');\r\n            const itemDetails = JSON.parse(inputs[3].value || '{}');\r\n            return {\r\n                sn: index + 1,\r\n                name: inputs[1].value,\r\n                description: inputs[2].value,\r\n                itemDetails,\r\n                qty: parseInt(inputs[4].value) || 0,\r\n                unitPrice: parseFloat(cleanNumberInput(inputs[5].value)) || 0,\r\n                discount: parseFloat(inputs[6].value) || 0,\r\n                amount: parseFloat(cleanNumberInput(inputs[7].value)) || 0\r\n            };\r\n        });\r\n\r\n        const receiptData = {\r\n            customerName,\r\n            phoneNumber,\r\n            invoiceNumber,\r\n            date: document.getElementById('date').value,\r\n            paymentMode: document.getElementById('paymentMode').value,\r\n            items,\r\n            itemQty: parseInt(document.getElementById('itemQty').textContent) || 0,\r\n            subTotal: parseFloat(cleanNumberInput(document.getElementById('subTotal').textContent)) || 0,\r\n            total: parseFloat(cleanNumberInput(document.getElementById('total').textContent)) || 0,\r\n            amountInWords: document.getElementById('amountInWords').textContent\r\n        };\r\n\r\n        const receipts = JSON.parse(localStorage.getItem('receipts') || '[]');\r\n        receipts.push({ id: Date.now(), ...receiptData });\r\n        localStorage.setItem('receipts', JSON.stringify(receipts));\r\n\r\n        localStorage.setItem('receiptData', JSON.stringify(receiptData));\r\n\r\n        submitBtn.disabled = false;\r\n        submitBtn.textContent = 'Generate Receipt';\r\n\r\n        window.open('/receipt.html', '_blank');\r\n    });\r\n\r\n    const clearItemsBtn = document.createElement('button');\r\n    clearItemsBtn.type = 'button';\r\n    clearItemsBtn.textContent = 'Clear All Items';\r\n    clearItemsBtn.style.marginLeft = '10px';\r\n    addItemBtn.insertAdjacentElement('afterend', clearItemsBtn);\r\n    clearItemsBtn.addEventListener('click', () => {\r\n        if (confirm('Are you sure you want to clear all items?')) {\r\n            itemRows.innerHTML = '';\r\n            document.querySelectorAll('.item-details-popover').forEach(p => p.remove());\r\n            serialNumber = 1;\r\n            updateTotals();\r\n        }\r\n    });\r\n\r\n    const viewReceiptsBtn = document.createElement('button');\r\n    viewReceiptsBtn.type = 'button';\r\n    viewReceiptsBtn.textContent = 'View Past Receipts';\r\n    viewReceiptsBtn.style.marginTop = '10px';\r\n    form.appendChild(viewReceiptsBtn);\r\n    viewReceiptsBtn.addEventListener('click', () => {\r\n        const receipts = JSON.parse(localStorage.getItem('receipts') || '[]');\r\n        const modal = document.createElement('div');\r\n        modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;';\r\n        modal.innerHTML = `\r\n            <div style=\"background: white; padding: 20px; border-radius: 8px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;\">\r\n                <h3>Past Receipts</h3>\r\n                <div style=\"margin-bottom: 15px;\">\r\n                    <input type=\"text\" id=\"searchReceipts\" placeholder=\"Search by Invoice, Name, or Date\" style=\"width: 100%; padding: 8px; border: 1px solid #ced4da; border-radius: 4px;\">\r\n                </div>\r\n                <div style=\"margin-bottom: 15px;\">\r\n                    <label for=\"sortReceipts\" style=\"margin-right: 10px;\">Sort by:</label>\r\n                    <select id=\"sortReceipts\" style=\"padding: 8px; border: 1px solid #ced4da; border-radius: 4px;\">\r\n                        <option value=\"date-desc\">Date (Newest First)</option>\r\n                        <option value=\"date-asc\">Date (Oldest First)</option>\r\n                        <option value=\"invoice\">Invoice Number</option>\r\n                    </select>\r\n                </div>\r\n                <ul id=\"receiptList\" style=\"list-style: none; padding: 0;\"></ul>\r\n                <div style=\"margin-top: 15px; display: flex; gap: 10px;\">\r\n                    <button id=\"closeModal\" style=\"padding: 8px 16px; background: #790707; color: white; border: none; border-radius: 4px; cursor: pointer;\">Close</button>\r\n                </div>\r\n            </div>\r\n        `;\r\n        document.body.appendChild(modal);\r\n\r\n        const searchInput = modal.querySelector('#searchReceipts');\r\n        const sortSelect = modal.querySelector('#sortReceipts');\r\n        const receiptList = modal.querySelector('#receiptList');\r\n        const closeModalBtn = modal.querySelector('#closeModal');\r\n\r\n        const renderReceipts = (filteredReceipts) => {\r\n            receiptList.innerHTML = filteredReceipts.map(r => `\r\n                <li style=\"padding: 10px; border-bottom: 1px solid #dee2e6; display: flex; justify-content: space-between; align-items: center;\">\r\n                    <span>Invoice #${r.invoiceNumber} - ${r.customerName} - ${r.date}</span>\r\n                    <div>\r\n                        <button onclick=\"viewReceipt(${r.id})\" style=\"margin-right: 10px; padding: 5px 10px; background: #022142; color: white; border: none; border-radius: 4px; cursor: pointer;\">View</button>\r\n                        <button onclick=\"deleteReceipt(${r.id})\" style=\"padding: 5px 10px; background: #790707; color: white; border: none; border-radius: 4px; cursor: pointer;\">Delete</button>\r\n                    </div>\r\n                </li>\r\n            `).join('');\r\n        };\r\n\r\n        const sortReceipts = (receipts, sortBy) => {\r\n            return [...receipts].sort((a, b) => {\r\n                if (sortBy === 'date-desc') return new Date(b.date) - new Date(a.date);\r\n                if (sortBy === 'date-asc') return new Date(a.date) - new Date(b.date);\r\n                if (sortBy === 'invoice') return a.invoiceNumber.localeCompare(b.invoiceNumber);\r\n                return 0;\r\n            });\r\n        };\r\n\r\n        const filterReceipts = (query) => {\r\n            query = query.toLowerCase();\r\n            return receipts.filter(r =>\r\n                r.invoiceNumber.toLowerCase().includes(query) ||\r\n                r.customerName.toLowerCase().includes(query) ||\r\n                r.date.toLowerCase().includes(query)\r\n            );\r\n        };\r\n\r\n        const updateReceiptList = () => {\r\n            let filtered = filterReceipts(searchInput.value);\r\n            filtered = sortReceipts(filtered, sortSelect.value);\r\n            renderReceipts(filtered);\r\n        };\r\n\r\n        searchInput.addEventListener('input', updateReceiptList);\r\n        sortSelect.addEventListener('change', updateReceiptList);\r\n\r\n        renderReceipts(sortReceipts(receipts, 'date-desc'));\r\n\r\n        window.deleteReceipt = (id) => {\r\n            if (confirm('Are you sure you want to delete this receipt?')) {\r\n                const updatedReceipts = receipts.filter(r => r.id !== id);\r\n                localStorage.setItem('receipts', JSON.stringify(updatedReceipts));\r\n                updateReceiptList();\r\n            }\r\n        };\r\n\r\n        closeModalBtn.addEventListener('click', () => {\r\n            modal.remove();\r\n        });\r\n\r\n        modal.addEventListener('click', (e) => {\r\n            if (e.target === modal) modal.remove();\r\n        });\r\n    });\r\n\r\n    window.viewReceipt = (id) => {\r\n        const receipts = JSON.parse(localStorage.getItem('receipts') || '[]');\r\n        const receipt = receipts.find(r => r.id === id);\r\n        if (receipt) {\r\n            localStorage.setItem('receiptData', JSON.stringify(receipt));\r\n            window.open('/receipt.html', '_blank');\r\n        }\r\n    };\r\n});"],"names":["numberToWords","num","units","teens","tens","scales","convertGroupToWords","words","integerPart","decimalPart","scaleIndex","group","groupWords","integerWords","decimalWords","form","itemRows","addItemBtn","serialNumber","phonePattern","invoicePattern","formatNumberWithCommas","number","parts","cleanNumberInput","value","createPopover","rowIndex","popover","showPopover","hidePopover","row","detailsBtn","hiddenInput","itemDetails","updateSerialNumbers","updateTotals","input","calculateAmount","cleanValue","rows","event","qty","unitPrice","discount","amount","itemQty","subTotal","total","customerName","phoneNumber","invoiceNumber","submitBtn","items","index","inputs","receiptData","receipts","clearItemsBtn","p","viewReceiptsBtn","modal","searchInput","sortSelect","receiptList","closeModalBtn","renderReceipts","filteredReceipts","r","sortReceipts","sortBy","a","b","filterReceipts","query","updateReceiptList","filtered","id","updatedReceipts","e","receipt"],"mappings":"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"}